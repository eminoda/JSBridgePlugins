"use strict";exports.id=121,exports.ids=[121],exports.modules={435:(e,t,n)=>{n.d(t,{Ay:()=>$});const r=(e=0)=>t=>`[${t+e}m`,o=(e=0)=>t=>`[${38+e};5;${t}m`,i=(e=0)=>(t,n,r)=>`[${38+e};2;${t};${n};${r}m`,s={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],gray:[90,39],grey:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgGray:[100,49],bgGrey:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};Object.keys(s.modifier),Object.keys(s.color),Object.keys(s.bgColor);const a=function(){const e=new Map;for(const[t,n]of Object.entries(s)){for(const[t,r]of Object.entries(n))s[t]={open:`[${r[0]}m`,close:`[${r[1]}m`},n[t]=s[t],e.set(r[0],r[1]);Object.defineProperty(s,t,{value:n,enumerable:!1})}return Object.defineProperty(s,"codes",{value:e,enumerable:!1}),s.color.close="[39m",s.bgColor.close="[49m",s.color.ansi=r(),s.color.ansi256=o(),s.color.ansi16m=i(),s.bgColor.ansi=r(10),s.bgColor.ansi256=o(10),s.bgColor.ansi16m=i(10),Object.defineProperties(s,{rgbToAnsi256:{value:(e,t,n)=>e===t&&t===n?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(t/255*5)+Math.round(n/255*5),enumerable:!1},hexToRgb:{value(e){const t=/[a-f\d]{6}|[a-f\d]{3}/i.exec(e.toString(16));if(!t)return[0,0,0];let[n]=t;3===n.length&&(n=[...n].map((e=>e+e)).join(""));const r=Number.parseInt(n,16);return[r>>16&255,r>>8&255,255&r]},enumerable:!1},hexToAnsi256:{value:e=>s.rgbToAnsi256(...s.hexToRgb(e)),enumerable:!1},ansi256ToAnsi:{value(e){if(e<8)return 30+e;if(e<16)return e-8+90;let t,n,r;if(e>=232)t=(10*(e-232)+8)/255,n=t,r=t;else{const o=(e-=16)%36;t=Math.floor(e/36)/5,n=Math.floor(o/6)/5,r=o%6/5}const o=2*Math.max(t,n,r);if(0===o)return 30;let i=30+(Math.round(r)<<2|Math.round(n)<<1|Math.round(t));return 2===o&&(i+=60),i},enumerable:!1},rgbToAnsi:{value:(e,t,n)=>s.ansi256ToAnsi(s.rgbToAnsi256(e,t,n)),enumerable:!1},hexToAnsi:{value:e=>s.ansi256ToAnsi(s.hexToAnsi256(e)),enumerable:!1}}),s}();var c=n(708),d=n(161),l=n(66);function u(e,t=(globalThis.Deno?globalThis.Deno.args:c.argv)){const n=e.startsWith("-")?"":1===e.length?"-":"--",r=t.indexOf(n+e),o=t.indexOf("--");return-1!==r&&(-1===o||r<o)}const{env:p}=c;let m;function f(e,t={}){return 0!==(n=function(e,{streamIsTTY:t,sniffFlags:n=!0}={}){const r=function(){if("FORCE_COLOR"in p)return"true"===p.FORCE_COLOR?1:"false"===p.FORCE_COLOR?0:0===p.FORCE_COLOR.length?1:Math.min(Number.parseInt(p.FORCE_COLOR,10),3)}();void 0!==r&&(m=r);const o=n?m:r;if(0===o)return 0;if(n){if(u("color=16m")||u("color=full")||u("color=truecolor"))return 3;if(u("color=256"))return 2}if("TF_BUILD"in p&&"AGENT_NAME"in p)return 1;if(e&&!t&&void 0===o)return 0;const i=o||0;if("dumb"===p.TERM)return i;if("win32"===c.platform){const e=d.release().split(".");return Number(e[0])>=10&&Number(e[2])>=10586?Number(e[2])>=14931?3:2:1}if("CI"in p)return"GITHUB_ACTIONS"in p||"GITEA_ACTIONS"in p?3:["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","BUILDKITE","DRONE"].some((e=>e in p))||"codeship"===p.CI_NAME?1:i;if("TEAMCITY_VERSION"in p)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(p.TEAMCITY_VERSION)?1:0;if("truecolor"===p.COLORTERM)return 3;if("xterm-kitty"===p.TERM)return 3;if("TERM_PROGRAM"in p){const e=Number.parseInt((p.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(p.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(p.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(p.TERM)||"COLORTERM"in p?1:i}(e,{streamIsTTY:e&&e.isTTY,...t}))&&{level:n,hasBasic:!0,has256:n>=2,has16m:n>=3};var n}u("no-color")||u("no-colors")||u("color=false")||u("color=never")?m=0:(u("color")||u("colors")||u("color=true")||u("color=always"))&&(m=1);const g={stdout:f({isTTY:l.isatty(1)}),stderr:f({isTTY:l.isatty(2)})};function b(e,t,n){let r=e.indexOf(t);if(-1===r)return e;const o=t.length;let i=0,s="";do{s+=e.slice(i,r)+t+n,i=r+o,r=e.indexOf(t,i)}while(-1!==r);return s+=e.slice(i),s}const{stdout:h,stderr:w}=g,y=Symbol("GENERATOR"),T=Symbol("STYLER"),v=Symbol("IS_EMPTY"),O=["ansi","ansi","ansi256","ansi16m"],I=Object.create(null);function C(e){return(e=>{const t=(...e)=>e.join(" ");return((e,t={})=>{if(t.level&&!(Number.isInteger(t.level)&&t.level>=0&&t.level<=3))throw new Error("The `level` option should be an integer from 0 to 3");const n=h?h.level:0;e.level=void 0===t.level?n:t.level})(t,e),Object.setPrototypeOf(t,C.prototype),t})(e)}Object.setPrototypeOf(C.prototype,Function.prototype);for(const[e,t]of Object.entries(a))I[e]={get(){const n=R(this,P(t.open,t.close,this[T]),this[v]);return Object.defineProperty(this,e,{value:n}),n}};I.visible={get(){const e=R(this,this[T],!0);return Object.defineProperty(this,"visible",{value:e}),e}};const E=(e,t,n,...r)=>"rgb"===e?"ansi16m"===t?a[n].ansi16m(...r):"ansi256"===t?a[n].ansi256(a.rgbToAnsi256(...r)):a[n].ansi(a.rgbToAnsi(...r)):"hex"===e?E("rgb",t,n,...a.hexToRgb(...r)):a[n][e](...r),S=["rgb","hex","ansi256"];for(const e of S)I[e]={get(){const{level:t}=this;return function(...n){const r=P(E(e,O[t],"color",...n),a.color.close,this[T]);return R(this,r,this[v])}}},I["bg"+e[0].toUpperCase()+e.slice(1)]={get(){const{level:t}=this;return function(...n){const r=P(E(e,O[t],"bgColor",...n),a.bgColor.close,this[T]);return R(this,r,this[v])}}};const x=Object.defineProperties((()=>{}),{...I,level:{enumerable:!0,get(){return this[y].level},set(e){this[y].level=e}}}),P=(e,t,n)=>{let r,o;return void 0===n?(r=e,o=t):(r=n.openAll+e,o=t+n.closeAll),{open:e,close:t,openAll:r,closeAll:o,parent:n}},R=(e,t,n)=>{const r=(...e)=>A(r,1===e.length?""+e[0]:e.join(" "));return Object.setPrototypeOf(r,x),r[y]=e,r[T]=t,r[v]=n,r},A=(e,t)=>{if(e.level<=0||!t)return e[v]?"":t;let n=e[T];if(void 0===n)return t;const{openAll:r,closeAll:o}=n;if(t.includes(""))for(;void 0!==n;)t=b(t,n.close,n.open),n=n.parent;const i=t.indexOf("\n");return-1!==i&&(t=function(e,t,n,r){let o=0,i="";do{const s="\r"===e[r-1];i+=e.slice(o,s?r-1:r)+t+(s?"\r\n":"\n")+n,o=r+1,r=e.indexOf("\n",o)}while(-1!==r);return i+=e.slice(o),i}(t,o,r,i)),r+t+o};Object.defineProperties(C.prototype,I);const G=C(),$=(C({level:w?w.level:0}),G)},758:(e,t,n)=>{n.d(t,{sL:()=>ye});var r=n(30),o=n(573),i=n(760),s=n(421),a=n(708),c=n(746),d=n(136),l=n(769);const u=({env:e=a.env,...t}={})=>{e={...e};const n=l({env:e});return t.path=e[n],e[n]=(({cwd:e=a.cwd(),path:t=a.env[l()],preferLocal:n=!0,execPath:r=a.execPath,addExecPath:o=!0}={})=>{const s=e instanceof URL?(0,d.fileURLToPath)(e):e,c=i.resolve(s),u=[];return n&&((e,t)=>{let n;for(;n!==t;)e.push(i.join(t,"node_modules/.bin")),n=t,t=i.resolve(t,"..")})(u,c),o&&((e,t,n)=>{const r=t instanceof URL?(0,d.fileURLToPath)(t):t;e.push(i.resolve(n,r,".."))})(u,r,c),[...u,t].join(i.delimiter)})(t),e},p=(e,t,n,r)=>{if("length"===n||"prototype"===n)return;if("arguments"===n||"caller"===n)return;const o=Object.getOwnPropertyDescriptor(e,n),i=Object.getOwnPropertyDescriptor(t,n);!m(o,i)&&r||Object.defineProperty(e,n,i)},m=function(e,t){return void 0===e||e.configurable||e.writable===t.writable&&e.enumerable===t.enumerable&&e.configurable===t.configurable&&(e.writable||e.value===t.value)},f=(e,t)=>`/* Wrapped ${e}*/\n${t}`,g=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),b=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name");const h=new WeakMap,w=(e,t={})=>{if("function"!=typeof e)throw new TypeError("Expected a function");let n,r=0;const o=e.displayName||e.name||"<anonymous>",i=function(...s){if(h.set(i,++r),1===r)n=e.apply(this,s),e=null;else if(!0===t.throw)throw new Error(`Function \`${o}\` can only be called once`);return n};return function(e,t,{ignoreNonConfigurable:n=!1}={}){const{name:r}=e;for(const r of Reflect.ownKeys(t))p(e,t,r,n);((e,t)=>{const n=Object.getPrototypeOf(t);n!==Object.getPrototypeOf(e)&&Object.setPrototypeOf(e,n)})(e,t),((e,t,n)=>{const r=""===n?"":`with ${n.trim()}() `,o=f.bind(null,r,t.toString());Object.defineProperty(o,"name",b),Object.defineProperty(e,"toString",{...g,value:o})})(e,t,r)}(i,e),h.set(i,r),i};w.callCount=e=>{if(!h.has(e))throw new Error(`The given function \`${e.name}\` is not wrapped by the \`onetime\` package`);return h.get(e)};const y=w;var T=n(161);const v=(e,t)=>({name:`SIGRT${t+1}`,number:O+t,action:"terminate",description:"Application-specific signal (realtime)",standard:"posix"}),O=34,I=[{name:"SIGHUP",number:1,action:"terminate",description:"Terminal closed",standard:"posix"},{name:"SIGINT",number:2,action:"terminate",description:"User interruption with CTRL-C",standard:"ansi"},{name:"SIGQUIT",number:3,action:"core",description:"User interruption with CTRL-\\",standard:"posix"},{name:"SIGILL",number:4,action:"core",description:"Invalid machine instruction",standard:"ansi"},{name:"SIGTRAP",number:5,action:"core",description:"Debugger breakpoint",standard:"posix"},{name:"SIGABRT",number:6,action:"core",description:"Aborted",standard:"ansi"},{name:"SIGIOT",number:6,action:"core",description:"Aborted",standard:"bsd"},{name:"SIGBUS",number:7,action:"core",description:"Bus error due to misaligned, non-existing address or paging error",standard:"bsd"},{name:"SIGEMT",number:7,action:"terminate",description:"Command should be emulated but is not implemented",standard:"other"},{name:"SIGFPE",number:8,action:"core",description:"Floating point arithmetic error",standard:"ansi"},{name:"SIGKILL",number:9,action:"terminate",description:"Forced termination",standard:"posix",forced:!0},{name:"SIGUSR1",number:10,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGSEGV",number:11,action:"core",description:"Segmentation fault",standard:"ansi"},{name:"SIGUSR2",number:12,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGPIPE",number:13,action:"terminate",description:"Broken pipe or socket",standard:"posix"},{name:"SIGALRM",number:14,action:"terminate",description:"Timeout or timer",standard:"posix"},{name:"SIGTERM",number:15,action:"terminate",description:"Termination",standard:"ansi"},{name:"SIGSTKFLT",number:16,action:"terminate",description:"Stack is empty or overflowed",standard:"other"},{name:"SIGCHLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"posix"},{name:"SIGCLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"other"},{name:"SIGCONT",number:18,action:"unpause",description:"Unpaused",standard:"posix",forced:!0},{name:"SIGSTOP",number:19,action:"pause",description:"Paused",standard:"posix",forced:!0},{name:"SIGTSTP",number:20,action:"pause",description:'Paused using CTRL-Z or "suspend"',standard:"posix"},{name:"SIGTTIN",number:21,action:"pause",description:"Background process cannot read terminal input",standard:"posix"},{name:"SIGBREAK",number:21,action:"terminate",description:"User interruption with CTRL-BREAK",standard:"other"},{name:"SIGTTOU",number:22,action:"pause",description:"Background process cannot write to terminal output",standard:"posix"},{name:"SIGURG",number:23,action:"ignore",description:"Socket received out-of-band data",standard:"bsd"},{name:"SIGXCPU",number:24,action:"core",description:"Process timed out",standard:"bsd"},{name:"SIGXFSZ",number:25,action:"core",description:"File too big",standard:"bsd"},{name:"SIGVTALRM",number:26,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGPROF",number:27,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGWINCH",number:28,action:"ignore",description:"Terminal window size changed",standard:"bsd"},{name:"SIGIO",number:29,action:"terminate",description:"I/O is available",standard:"other"},{name:"SIGPOLL",number:29,action:"terminate",description:"Watched event",standard:"other"},{name:"SIGINFO",number:29,action:"ignore",description:"Request for process information",standard:"other"},{name:"SIGPWR",number:30,action:"terminate",description:"Device running out of power",standard:"systemv"},{name:"SIGSYS",number:31,action:"core",description:"Invalid system call",standard:"other"},{name:"SIGUNUSED",number:31,action:"terminate",description:"Invalid system call",standard:"other"}],C=()=>{const e=(()=>{const e=64-O+1;return Array.from({length:e},v)})();return[...I,...e].map(E)},E=({name:e,number:t,description:n,action:r,forced:o=!1,standard:i})=>{const{signals:{[e]:s}}=T.constants,a=void 0!==s;return{name:e,number:a?s:t,description:n,supported:a,action:r,forced:o,standard:i}},S=({name:e,number:t,description:n,supported:r,action:o,forced:i,standard:s})=>[e,{name:e,number:t,description:n,supported:r,action:o,forced:i,standard:s}],x=(()=>{const e=C();return Object.fromEntries(e.map(S))})(),P=(e,t)=>{const n=t.find((({name:t})=>T.constants.signals[t]===e));return void 0!==n?n:t.find((t=>t.number===e))},R=((()=>{const e=C(),t=Array.from({length:65},((t,n)=>((e,t)=>{const n=P(e,t);if(void 0===n)return{};const{name:r,description:o,supported:i,action:s,forced:a,standard:c}=n;return{[e]:{name:r,number:e,description:o,supported:i,action:s,forced:a,standard:c}}})(n,e)));Object.assign({},...t)})(),({stdout:e,stderr:t,all:n,error:r,signal:o,exitCode:i,command:s,escapedCommand:c,timedOut:d,isCanceled:l,killed:u,parsed:{options:{timeout:p,cwd:m=a.cwd()}}})=>{i=null===i?void 0:i;const f=void 0===(o=null===o?void 0:o)?void 0:x[o].description,g=(({timedOut:e,timeout:t,errorCode:n,signal:r,signalDescription:o,exitCode:i,isCanceled:s})=>e?`timed out after ${t} milliseconds`:s?"was canceled":void 0!==n?`failed with ${n}`:void 0!==r?`was killed with ${r} (${o})`:void 0!==i?`failed with exit code ${i}`:"failed")({timedOut:d,timeout:p,errorCode:r&&r.code,signal:o,signalDescription:f,exitCode:i,isCanceled:l}),b=`Command ${g}: ${s}`,h="[object Error]"===Object.prototype.toString.call(r),w=h?`${b}\n${r.message}`:b,y=[w,t,e].filter(Boolean).join("\n");return h?(r.originalMessage=r.message,r.message=y):r=new Error(y),r.shortMessage=w,r.command=s,r.escapedCommand=c,r.exitCode=i,r.signal=o,r.signalDescription=f,r.stdout=e,r.stderr=t,r.cwd=m,void 0!==n&&(r.all=n),"bufferedData"in r&&delete r.bufferedData,r.failed=!0,r.timedOut=Boolean(d),r.isCanceled=l,r.killed=u&&!d,r}),A=["stdin","stdout","stderr"];var G=n(919);const $=(e,t="SIGTERM",n={})=>{const r=e(t);return j(e,t,n,r),r},j=(e,t,n,r)=>{if(!B(t,n,r))return;const o=N(n),i=setTimeout((()=>{e("SIGKILL")}),o);i.unref&&i.unref()},B=(e,{forceKillAfterTimeout:t},n)=>M(e)&&!1!==t&&n,M=e=>e===T.constants.signals.SIGTERM||"string"==typeof e&&"SIGTERM"===e.toUpperCase(),N=({forceKillAfterTimeout:e=!0})=>{if(!0===e)return 5e3;if(!Number.isFinite(e)||e<0)throw new TypeError(`Expected the \`forceKillAfterTimeout\` option to be a non-negative integer, got \`${e}\` (${typeof e})`);return e},L=(e,t)=>{e.kill()&&(t.isCanceled=!0)};var k=n(24);function U(e){return null!==e&&"object"==typeof e&&"function"==typeof e.pipe}function _(e){return U(e)&&!1!==e.writable&&"function"==typeof e._write&&"object"==typeof e._writableState}const F=(e,t,n)=>{if("string"==typeof n)return e[t].pipe((0,k.createWriteStream)(n)),e;if(_(n))return e[t].pipe(n),e;if(!(e=>e instanceof s.ChildProcess&&"function"==typeof e.then)(n))throw new TypeError("The second argument must be a string, a stream or an Execa child process.");if(!_(n.stdin))throw new TypeError("The target child process's stdin must be available.");return e[t].pipe(n.stdin),n};var D=n(571),Y=n(967);const W=e=>{if(void 0!==e)throw new TypeError("The `input` and `inputFile` options cannot be both set.")},H=async(e,t)=>{if(e&&void 0!==t){e.destroy();try{return await t}catch(e){return e.bufferedData}}},K=(e,{encoding:t,buffer:n,maxBuffer:r})=>{if(e&&n)return t?D(e,{encoding:t,maxBuffer:r}):D.buffer(e,{maxBuffer:r})},V=(async()=>{})().constructor.prototype,X=["then","catch","finally"].map((e=>[e,Reflect.getOwnPropertyDescriptor(V,e)])),Q=(e,t)=>{for(const[n,r]of X){const o="function"==typeof t?(...e)=>Reflect.apply(r.value,t(),e):r.value.bind(t);Reflect.defineProperty(e,n,{...r,value:o})}},q=(e,t=[])=>Array.isArray(t)?[e,...t]:[e],Z=/^[\w.-]+$/,z=/"/g,J=(e,t)=>q(e,t).join(" "),ee=(e,t)=>q(e,t).map((e=>(e=>"string"!=typeof e||Z.test(e)?e:`"${e.replace(z,'\\"')}"`)(e))).join(" "),te=/ +/g,ne=e=>{const t=typeof e;if("string"===t)return e;if("number"===t)return String(e);if("object"===t&&null!==e&&!(e instanceof s.ChildProcess)&&"stdout"in e){const t=typeof e.stdout;if("string"===t)return e.stdout;if(o.Buffer.isBuffer(e.stdout))return e.stdout.toString();throw new TypeError(`Unexpected "${t}" stdout in template expression`)}throw new TypeError(`Unexpected "${t}" in template expression`)},re=(e,t,n)=>n||0===e.length||0===t.length?[...e,...t]:[...e.slice(0,-1),`${e[e.length-1]}${t[0]}`,...t.slice(1)],oe=({templates:e,expressions:t,tokens:n,index:r,template:o})=>{const i=o??e.raw[r],s=i.split(te).filter(Boolean),a=re(n,s,i.startsWith(" "));if(r===t.length)return a;const c=t[r],d=Array.isArray(c)?c.map((e=>ne(e))):[ne(c)];return re(a,d,i.endsWith(" "))},ie=(e,t)=>{let n=[];for(const[r,o]of e.entries())n=oe({templates:e,expressions:t,tokens:n,index:r,template:o});return n},se=(0,n(975).debuglog)("execa").enabled,ae=(e,t)=>String(e).padStart(t,"0"),ce=(e,{verbose:t})=>{t&&a.stderr.write(`[${(()=>{const e=new Date;return`${ae(e.getHours(),2)}:${ae(e.getMinutes(),2)}:${ae(e.getSeconds(),2)}.${ae(e.getMilliseconds(),3)}`})()}] ${e}\n`)},de=(e,t,n={})=>{const r=c._parse(e,t,n);return e=r.command,t=r.args,(n={maxBuffer:1e8,buffer:!0,stripFinalNewline:!0,extendEnv:!0,preferLocal:!1,localDir:(n=r.options).cwd||a.cwd(),execPath:a.execPath,encoding:"utf8",reject:!0,cleanup:!0,all:!1,windowsHide:!0,verbose:se,...n}).env=(({env:e,extendEnv:t,preferLocal:n,localDir:r,execPath:o})=>{const i=t?{...a.env,...e}:e;return n?u({env:i,cwd:r,execPath:o}):i})(n),n.stdio=(e=>{if(!e)return;const{stdio:t}=e;if(void 0===t)return A.map((t=>e[t]));if((e=>A.some((t=>void 0!==e[t])))(e))throw new Error(`It's not possible to provide \`stdio\` in combination with one of ${A.map((e=>`\`${e}\``)).join(", ")}`);if("string"==typeof t)return t;if(!Array.isArray(t))throw new TypeError(`Expected \`stdio\` to be of type \`string\` or \`Array\`, got \`${typeof t}\``);const n=Math.max(t.length,A.length);return Array.from({length:n},((e,n)=>t[n]))})(n),"win32"===a.platform&&"cmd"===i.basename(e,".exe")&&t.unshift("/q"),{file:e,args:t,options:n,parsed:r}},le=(e,t,n)=>"string"==typeof t||o.Buffer.isBuffer(t)?e.stripFinalNewline?function(e){const t="string"==typeof e?"\n":"\n".charCodeAt(),n="string"==typeof e?"\r":"\r".charCodeAt();return e[e.length-1]===t&&(e=e.slice(0,-1)),e[e.length-1]===n&&(e=e.slice(0,-1)),e}(t):t:void 0===n?void 0:"";function ue(e,t,n){const r=de(e,t,n),o=J(e,t),i=ee(e,t);let a;ce(i,r.options),(({timeout:e})=>{if(void 0!==e&&(!Number.isFinite(e)||e<0))throw new TypeError(`Expected the \`timeout\` option to be a non-negative integer, got \`${e}\` (${typeof e})`)})(r.options);try{a=s.spawn(r.file,r.args,r.options)}catch(e){const t=new s.ChildProcess,n=Promise.reject(R({error:e,stdout:"",stderr:"",all:"",command:o,escapedCommand:i,parsed:r,timedOut:!1,isCanceled:!1,killed:!1}));return Q(t,n),t}const c=(e=>new Promise(((t,n)=>{e.on("exit",((e,n)=>{t({exitCode:e,signal:n})})),e.on("error",(e=>{n(e)})),e.stdin&&e.stdin.on("error",(e=>{n(e)}))})))(a),d=((e,{timeout:t,killSignal:n="SIGTERM"},r)=>{if(0===t||void 0===t)return r;let o;const i=new Promise(((r,i)=>{o=setTimeout((()=>{((e,t,n)=>{e.kill(t),n(Object.assign(new Error("Timed out"),{timedOut:!0,signal:t}))})(e,n,i)}),t)})),s=r.finally((()=>{clearTimeout(o)}));return Promise.race([i,s])})(a,r.options,c),l=(async(e,{cleanup:t,detached:n},r)=>{if(!t||n)return r;const o=G((()=>{e.kill()}));return r.finally((()=>{o()}))})(a,r.options,d),u={isCanceled:!1};a.kill=$.bind(null,a.kill.bind(a)),a.cancel=L.bind(null,a,u);const p=y((async()=>{const[{error:e,exitCode:t,signal:n,timedOut:s},c,d,p]=await(async({stdout:e,stderr:t,all:n},{encoding:r,buffer:o,maxBuffer:i},s)=>{const a=K(e,{encoding:r,buffer:o,maxBuffer:i}),c=K(t,{encoding:r,buffer:o,maxBuffer:i}),d=K(n,{encoding:r,buffer:o,maxBuffer:2*i});try{return await Promise.all([s,a,c,d])}catch(r){return Promise.all([{error:r,signal:r.signal,timedOut:r.timedOut},H(e,a),H(t,c),H(n,d)])}})(a,r.options,l),m=le(r.options,c),f=le(r.options,d),g=le(r.options,p);if(e||0!==t||null!==n){const c=R({error:e,exitCode:t,signal:n,stdout:m,stderr:f,all:g,command:o,escapedCommand:i,parsed:r,timedOut:s,isCanceled:u.isCanceled||!!r.options.signal&&r.options.signal.aborted,killed:a.killed});if(!r.options.reject)return c;throw c}return{command:o,escapedCommand:i,exitCode:0,stdout:m,stderr:f,all:g,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}}));return((e,t)=>{const n=(({input:e,inputFile:t})=>"string"!=typeof t?e:(W(e),(0,k.createReadStream)(t)))(t);void 0!==n&&(U(n)?n.pipe(e.stdin):e.stdin.end(n))})(a,r.options),a.all=((e,{all:t})=>{if(!t||!e.stdout&&!e.stderr)return;const n=Y();return e.stdout&&n.add(e.stdout),e.stderr&&n.add(e.stderr),n})(a,r.options),(e=>{null!==e.stdout&&(e.pipeStdout=F.bind(void 0,e,"stdout")),null!==e.stderr&&(e.pipeStderr=F.bind(void 0,e,"stderr")),void 0!==e.all&&(e.pipeAll=F.bind(void 0,e,"all"))})(a),Q(a,p),a}function pe(e,t,n){const r=de(e,t,n),o=J(e,t),i=ee(e,t);ce(i,r.options);const a=(e=>{const t=(({input:e,inputFile:t})=>"string"!=typeof t?e:(W(e),(0,k.readFileSync)(t)))(e);if(U(t))throw new TypeError("The `input` option cannot be a stream in sync mode");return t})(r.options);let c;try{c=s.spawnSync(r.file,r.args,{...r.options,input:a})}catch(e){throw R({error:e,stdout:"",stderr:"",all:"",command:o,escapedCommand:i,parsed:r,timedOut:!1,isCanceled:!1,killed:!1})}const d=le(r.options,c.stdout,c.error),l=le(r.options,c.stderr,c.error);if(c.error||0!==c.status||null!==c.signal){const e=R({stdout:d,stderr:l,error:c.error,signal:c.signal,exitCode:c.status,command:o,escapedCommand:i,parsed:r,timedOut:c.error&&"ETIMEDOUT"===c.error.code,isCanceled:!1,killed:null!==c.signal});if(!r.options.reject)return e;throw e}return{command:o,escapedCommand:i,exitCode:0,stdout:d,stderr:l,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}}const me=({input:e,inputFile:t,stdio:n})=>void 0===e&&void 0===t&&void 0===n?{stdin:"inherit"}:{},fe=(e={})=>({preferLocal:!0,...me(e),...e});!function e(t){function n(n,...r){if(!Array.isArray(n))return e({...t,...n});const[o,...i]=ie(n,r);return ue(o,i,fe(t))}return n.sync=(e,...n)=>{if(!Array.isArray(e))throw new TypeError("Please use $(options).sync`command` instead of $.sync(options)`command`.");const[r,...o]=ie(e,n);return pe(r,o,fe(t))},n}();const ge=(0,T.platform)(),be=new Set(["default","0.0.0.0","0.0.0.0/0","::","::/0"]);let he,we;if("linux"===ge){const Te=(e,t)=>{for(const n of(e||"").trim().split("\n")){const e=/default( via .+?)?( dev .+?)( |$)/.exec(n)||[],o=(e[1]||"").substring(5),i=(e[2]||"").substring(5);if(o&&(0,r.isIP)(o))return{gateway:o,version:t,int:i??null};if(i&&!o){const e=(0,T.networkInterfaces)()[i];for(const n of e||[])if(Number(t.substring(3))===t&&(0,r.isIP)(n.address))return{gateway:n.address,version:t,int:i??null}}}throw new Error("Unable to determine default gateway")};he=async e=>{const{stdout:t}=await ue("ip",[`-${e}`,"r"]);return Te(t,e)},we=e=>{const{stdout:t}=pe("ip",[`-${e}`,"r"]);return Te(t,e)}}else if("darwin"===ge){const ve=parseInt((0,T.release)())>=19?3:5,Oe=(e,t)=>{for(const n of(e||"").trim().split("\n")){const e=n.split(/ +/)||[],o=e[0],i=e[1],s=e[4===t?ve:3];if(be.has(o)&&i&&(0,r.isIP)(i))return{gateway:i,version:t,int:s??null}}throw new Error("Unable to determine default gateway")};he=async e=>{const{stdout:t}=await ue("netstat",["-rn","-f",4===e?"inet":"inet6"]);return Oe(t,e)},we=e=>{const{stdout:t}=pe("netstat",["-rn","-f",4===e?"inet":"inet6"]);return Oe(t,e)}}else if("win32"===ge){const Ie="path Win32_NetworkAdapterConfiguration where IPEnabled=true get DefaultIPGateway,GatewayCostMetric,IPConnectionMetric,Index /format:table".split(" "),Ce=e=>`path Win32_NetworkAdapter where Index=${e} get NetConnectionID,MACAddress /format:table`.split(" "),Ee={windowsHide:!0};function Se(e,t){let[n,o,i]=[null,null,null];for(let s of(e||"").trim().split(/\r?\n/).splice(1)){s=s.trim();const[e,a,c,d,l]=/({.+?}) +({.+?}) +([0-9]+) +([0-9]+)/.exec(s)||[];if(!a)continue;const u=(a.match(/"(.+?)"/g)||[]).map((e=>e.substring(1,e.length-1))),p=c.match(/[0-9]+/g)||[];for(const[e,s]of Object.entries(u)){if(!s||(0,r.isIP)(s)!==t)continue;const a=parseInt(p[e])+parseInt(l);(!n||a<o)&&([n,o,i]=[s,a,d])}}if(n)return[n,i]}function xe(e){const t=(e||"").trim().split("\n")[1];let[n,r]=t.trim().split(/\s+/);n=n.toLowerCase();for(const[e,t]of Object.entries((0,T.networkInterfaces)()))for(const r of t)if(r?.mac?.toLowerCase()===n)return e;return r}he=async e=>{const{stdout:t}=await ue("wmic",Ie,Ee),[n,r]=Se(t,e)||[];if(!n)throw new Error("Unable to determine default gateway");let o;if(r){const{stdout:e}=await ue("wmic",Ce(r),Ee);o=xe(e)}return{gateway:n,version:e,int:o??null}},we=e=>{const{stdout:t}=pe("wmic",Ie,Ee),[n,r]=Se(t,e)||[];if(!n)throw new Error("Unable to determine default gateway");let o;if(r){const{stdout:e}=pe("wmic",Ce(r),Ee);o=xe(e)}return{gateway:n,version:e,int:o??null}}}else if("android"===ge){const Pe=(e,t)=>{for(const n of(e||"").trim().split("\n")){const[e,o,i]=/default via (.+?) dev (.+?)( |$)/.exec(n)||[];if(o&&(0,r.isIP)(o))return{gateway:o,version:t,int:i??null}}throw new Error("Unable to determine default gateway")};he=async e=>{const{stdout:t}=await ue("ip",[`-${e}`,"r"]);return Pe(t,e)},we=e=>{const{stdout:t}=pe("ip",[`-${e}`,"r"]);return Pe(t,e)}}else if("freebsd"===ge){const Re=(e,t)=>{for(const n of(e||"").trim().split("\n")){const[e,o,i,s]=n.split(/ +/)||[];if(be.has(e)&&o&&(0,r.isIP)(o))return{gateway:o,version:t,int:s??null}}throw new Error("Unable to determine default gateway")};he=async e=>{const{stdout:t}=await ue("netstat",["-rn","-f",4===e?"inet":"inet6"]);return Re(t,e)},we=e=>{const{stdout:t}=pe("netstat",["-rn","-f",4===e?"inet":"inet6"]);return Re(t,e)}}else if("aix"===ge&&"OS400"===(0,T.type)()){const Ae="/QOpenSys/pkgs/bin/db2util",Ge="select NEXT_HOP, LOCAL_BINDING_INTERFACE from QSYS2.NETSTAT_ROUTE_INFO where ROUTE_TYPE='DFTROUTE' and NEXT_HOP!='*DIRECT' and CONNECTION_TYPE=?",$e=(e,t)=>{try{const n=JSON.parse(e);return{gateway:n.records[0].NEXT_HOP,version:t,iface:n.records[0].LOCAL_BINDING_INTERFACE}}catch{}throw new Error("Unable to determine default gateway")};he=async e=>{const{stdout:t}=await ue(Ae,[Ge,"-p",`IPV${e}`,"-o","json"]);return $e(t,e)},we=e=>{const{stdout:t}=pe(Ae,[Ge,"-p",`IPV${e}`,"-o","json"]);return $e(t,e)}}else if("openbsd"===ge){const je=(e,t)=>{for(const n of(e||"").trim().split("\n")){const e=n.split(/ +/)||[],o=e[0],i=e[1],s=e[7];if(be.has(o)&&i&&(0,r.isIP)(i))return{gateway:i,version:t,int:s??null}}throw new Error("Unable to determine default gateway")};he=async e=>{const{stdout:t}=await ue("netstat",["-rn","-f",4===e?"inet":"inet6"]);return je(t,e)},we=e=>{const{stdout:t}=pe("netstat",["-rn","-f",4===e?"inet":"inet6"]);return je(t,e)}}else if("sunos"===ge||"aix"===ge&&"OS400"!==(0,T.type)()){const Be=(e,t)=>{for(const n of(e||"").trim().split("\n")){const e=n.split(/ +/)||[],o=e[0],i=e[1],s=e[5];if(be.has(o)&&i&&(0,r.isIP)(i))return{gateway:i,version:t,int:s??null}}throw new Error("Unable to determine default gateway")};he=async e=>{const{stdout:t}=await ue("netstat",["-rn","-f",4===e?"inet":"inet6"]);return Be(t,e)},we=e=>{const{stdout:t}=pe("netstat",["-rn","-f",4===e?"inet":"inet6"]);return Be(t,e)}}else he=e=>{throw new Error("Unsupported Platform")},we=e=>{throw new Error("Unsupported Platform")};const ye=()=>we(4)}};